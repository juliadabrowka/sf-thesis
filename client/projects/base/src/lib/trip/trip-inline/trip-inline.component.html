@if (__trip$$.value; as trip) {
  <div class="trip-container">
    <div class="left" (click)="__navigateToTrip(trip.trip)">
      @if (trip.flagSrc) {
        <div class="flag">
          <img [src]="trip.flagSrc" alt="flaga">
        </div>
      }
      <div class="trip-title"> {{ trip.trip.Name }}</div>
    </div>
    <div class="trip-data">
      <div class="trip-info">
        <div class="trip-inline-data">
          @for (tripTerm of trip.trip.TripTermDtos; track tripTerm.Id) {
            <ng-container>
              <div class="trip-date">
                {{ tripTerm.DateFrom | date:'yyyy | dd.MM' }} - {{ tripTerm.DateTo | date:'dd.MM' }}
              </div>
              <div class="right">
                <div class="middle">
                  <div class="trip-price">
                    <span class="price">cena</span>
                    {{ tripTerm.Price | sfFormatPrice }}
                  </div>
                  <div class="trip-availability">
                    <span class="availability">wolnych miejsc</span>
                    {{ tripTerm.ParticipantsTotal - tripTerm.ParticipantsCurrent }}
                  </div>
                </div>
                <sf-button
                  [sfButtonText]="'ZAPISZ SIÄ˜'"
                  (sfOnButtonClicked)="__onShowSlider()"
                ></sf-button>
              </div>
            </ng-container>
          }
        </div>
      </div>
      @if (__showSlider) {
        <div class="application-form">
          <sf-application-form></sf-application-form>
          <sf-button
            [sfButtonText]="'REZERWUJ'"
          ></sf-button>
        </div>
      }
    </div>
  </div>
}
